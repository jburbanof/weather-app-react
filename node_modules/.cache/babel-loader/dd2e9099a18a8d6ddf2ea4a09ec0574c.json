{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport getChartData from \"../Utilities/transform/getChartData\";\nimport { getForecastUrl } from \"../Utilities/urls\";\nimport getForecastItemList from \"../Utilities/transform/getForecastItemList\";\nimport { getCityCode } from \"../Utilities/utilities\";\n\nconst useCityPage = (onSetChartData, onSetForecastItemList, allChartData, allForecastItemList) => {\n  _s();\n\n  const {\n    city,\n    countryCode\n  } = useParams();\n  useEffect(() => {\n    const getForecast = async () => {\n      const url = getForecastUrl(city, countryCode);\n      const cityCode = getCityCode(city, countryCode);\n\n      try {\n        const {\n          data\n        } = await axios.get(url);\n        const dataAux = getChartData(data);\n        onSetChartData({\n          [cityCode]: dataAux\n        });\n        const forecastItemListAux = getForecastItemList(data);\n        onSetForecastItemList({\n          [cityCode]: forecastItemListAux\n        });\n      } catch (error) {\n        console.log(\"Error\");\n      }\n    };\n\n    const cityCode = getCityCode(city, countryCode);\n\n    if (allChartData && allForecastItemList && !allChartData[cityCode] && !allForecastItemList[cityCode]) {\n      getForecast();\n    }\n  }, [city, countryCode, onSetForecastItemList, onSetChartData, allChartData, allForecastItemList]);\n  return {\n    city,\n    countryCode\n  };\n};\n\n_s(useCityPage, \"K5IKzcF800rXzW86+R9cAGqvAj8=\", false, function () {\n  return [useParams];\n});\n\nexport default useCityPage;","map":{"version":3,"sources":["/home/julian/Desktop/ReactCourse/react-weather-app/src/Hooks/useCityPage.jsx"],"names":["useEffect","useParams","axios","getChartData","getForecastUrl","getForecastItemList","getCityCode","useCityPage","onSetChartData","onSetForecastItemList","allChartData","allForecastItemList","city","countryCode","getForecast","url","cityCode","data","get","dataAux","forecastItemListAux","error","console","log"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,OAAOC,mBAAP,MAAgC,4CAAhC;AACA,SAASC,WAAT,QAA4B,wBAA5B;;AAEA,MAAMC,WAAW,GAAG,CAACC,cAAD,EAAiBC,qBAAjB,EAAwCC,YAAxC,EAAsDC,mBAAtD,KAA+E;AAAA;;AACjG,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAwBZ,SAAS,EAAvC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,WAAW,GAAG,YAAY;AAC9B,YAAMC,GAAG,GAAGX,cAAc,CAACQ,IAAD,EAAOC,WAAP,CAA1B;AACA,YAAMG,QAAQ,GAAGV,WAAW,CAACM,IAAD,EAAOC,WAAP,CAA5B;;AACA,UAAI;AACF,cAAM;AAAEI,UAAAA;AAAF,YAAW,MAAMf,KAAK,CAACgB,GAAN,CAAUH,GAAV,CAAvB;AACA,cAAMI,OAAO,GAAGhB,YAAY,CAACc,IAAD,CAA5B;AAEAT,QAAAA,cAAc,CAAC;AAAE,WAACQ,QAAD,GAAYG;AAAd,SAAD,CAAd;AAEA,cAAMC,mBAAmB,GAAGf,mBAAmB,CAACY,IAAD,CAA/C;AACAR,QAAAA,qBAAqB,CAAC;AAAE,WAACO,QAAD,GAAYI;AAAd,SAAD,CAArB;AACD,OARD,CAQE,OAAOC,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AACF,KAdD;;AAeA,UAAMP,QAAQ,GAAGV,WAAW,CAACM,IAAD,EAAOC,WAAP,CAA5B;;AACA,QAAGH,YAAY,IAAIC,mBAAhB,IAAuC,CAACD,YAAY,CAACM,QAAD,CAApD,IAAkE,CAACL,mBAAmB,CAACK,QAAD,CAAzF,EAAoG;AAClGF,MAAAA,WAAW;AACZ;AAEF,GArBQ,EAqBN,CAACF,IAAD,EAAOC,WAAP,EAAoBJ,qBAApB,EAA2CD,cAA3C,EAA2DE,YAA3D,EAAyEC,mBAAzE,CArBM,CAAT;AAsBA,SAAO;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAP;AACD,CAzBD;;GAAMN,W;UAC0BN,S;;;AA0BhC,eAAeM,WAAf","sourcesContent":["import { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport getChartData from \"../Utilities/transform/getChartData\";\nimport { getForecastUrl } from \"../Utilities/urls\";\nimport getForecastItemList from \"../Utilities/transform/getForecastItemList\";\nimport { getCityCode } from \"../Utilities/utilities\";\n\nconst useCityPage = (onSetChartData, onSetForecastItemList, allChartData, allForecastItemList ) => {\n  const { city, countryCode } = useParams();\n  useEffect(() => {\n    const getForecast = async () => {\n      const url = getForecastUrl(city, countryCode);\n      const cityCode = getCityCode(city, countryCode);\n      try {\n        const { data } = await axios.get(url);\n        const dataAux = getChartData(data);\n\n        onSetChartData({ [cityCode]: dataAux });\n\n        const forecastItemListAux = getForecastItemList(data);\n        onSetForecastItemList({ [cityCode]: forecastItemListAux });\n      } catch (error) {\n        console.log(\"Error\");\n      }\n    };\n    const cityCode = getCityCode(city, countryCode)\n    if(allChartData && allForecastItemList && !allChartData[cityCode] && !allForecastItemList[cityCode]){\n      getForecast();\n    }\n    \n  }, [city, countryCode, onSetForecastItemList, onSetChartData, allChartData, allForecastItemList]);\n  return { city, countryCode };\n};\n\nexport default useCityPage;\n"]},"metadata":{},"sourceType":"module"}