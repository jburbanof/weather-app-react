{"ast":null,"code":"import _regeneratorRuntime from\"/home/julian/Desktop/gitReps/weather-app-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/julian/Desktop/gitReps/weather-app-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/julian/Desktop/gitReps/weather-app-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import{searchSchema}from\"../../Utilities/searchValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var callback=_ref.callback;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newCity=_useState2[0],setNewCity=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newCountryCode=_useState4[0],setNewCountryCode=_useState4[1];var updateCity=function updateCity(e){return setNewCity(e.target.value);};var updateCountryCode=function updateCountryCode(e){return setNewCountryCode(e.target.value);};var createNewCity=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var dataSearch,isValid;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();dataSearch={city:newCity,countryCode:newCountryCode};_context.next=4;return searchSchema.isValid(dataSearch);case 4:isValid=_context.sent;if(isValid){callback(newCity,newCountryCode);setNewCountryCode(\"\");setNewCity(\"\");}else{alert('Search error, both fields are required and country code must have two characters.');}case 6:case\"end\":return _context.stop();}}},_callee);}));return function createNewCity(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"searchForm\",children:[/*#__PURE__*/_jsx(TextField,{type:\"text\",variant:\"outlined\",label:\"City\",color:\"primary\",className:\"formItem\",onChange:updateCity,value:newCity,name:\"city\",required:true}),/*#__PURE__*/_jsx(TextField,{type:\"text\",variant:\"outlined\",label:\"Country Code\",color:\"primary\",className:\"formItem\",onChange:updateCountryCode,value:newCountryCode,name:\"city\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:\"formItem\",onClick:createNewCity,children:\"Search\"})]});};export default Search;","map":{"version":3,"sources":["/home/julian/Desktop/gitReps/weather-app-react/src/Components/Search/Search.jsx"],"names":["React","useState","TextField","Button","searchSchema","Search","callback","newCity","setNewCity","newCountryCode","setNewCountryCode","updateCity","e","target","value","updateCountryCode","createNewCity","preventDefault","dataSearch","city","countryCode","isValid","alert"],"mappings":"gYAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,YAAT,KAA6B,kCAA7B,C,wFACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAC/B,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA4CP,QAAQ,CAAC,EAAD,CAApD,yCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,QAAOJ,CAAAA,UAAU,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAAnB,CACA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACH,CAAD,QAAOF,CAAAA,iBAAiB,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxB,EAA1B,CAEA,GAAME,CAAAA,aAAa,2FAAG,iBAAOJ,CAAP,yIACpBA,CAAC,CAACK,cAAF,GACIC,UAFgB,CAEH,CACfC,IAAI,CAAEZ,OADS,CAEfa,WAAW,CAAEX,cAFE,CAFG,uBAMEL,CAAAA,YAAY,CAACiB,OAAb,CAAqBH,UAArB,CANF,QAMdG,OANc,eAOpB,GAAIA,OAAJ,CAAa,CACXf,QAAQ,CAACC,OAAD,CAAUE,cAAV,CAAR,CACAC,iBAAiB,CAAC,EAAD,CAAjB,CACAF,UAAU,CAAC,EAAD,CAAV,CACD,CAJD,IAIK,CACHc,KAAK,CAAC,mFAAD,CAAL,CACD,CAbmB,sDAAH,kBAAbN,CAAAA,aAAa,6CAAnB,CAgBA,mBACE,cAAM,SAAS,CAAC,YAAhB,wBACE,KAAC,SAAD,EACE,IAAI,CAAC,MADP,CAEE,OAAO,CAAC,UAFV,CAGE,KAAK,CAAC,MAHR,CAIE,KAAK,CAAC,SAJR,CAKE,SAAS,CAAC,UALZ,CAME,QAAQ,CAAEL,UANZ,CAOE,KAAK,CAAEJ,OAPT,CAQE,IAAI,CAAC,MARP,CASE,QAAQ,KATV,EADF,cAYE,KAAC,SAAD,EACE,IAAI,CAAC,MADP,CAEE,OAAO,CAAC,UAFV,CAGE,KAAK,CAAC,cAHR,CAIE,KAAK,CAAC,SAJR,CAKE,SAAS,CAAC,UALZ,CAME,QAAQ,CAAEQ,iBANZ,CAOE,KAAK,CAAEN,cAPT,CAQE,IAAI,CAAC,MARP,CASE,QAAQ,KATV,EAZF,cAuBE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,SAAS,CAAC,UAJZ,CAKE,OAAO,CAAEO,aALX,oBAvBF,GADF,CAmCD,CAzDD,CA2DA,cAAeX,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport { searchSchema } from \"../../Utilities/searchValidation\";\nconst Search = ({ callback }) => {\n  const [newCity, setNewCity] = useState(\"\");\n  const [newCountryCode, setNewCountryCode] = useState(\"\");\n  const updateCity = (e) => setNewCity(e.target.value);\n  const updateCountryCode = (e) => setNewCountryCode(e.target.value);\n\n  const createNewCity = async (e) => {\n    e.preventDefault();\n    let dataSearch = {\n      city: newCity,\n      countryCode: newCountryCode,\n    };\n    const isValid = await searchSchema.isValid(dataSearch);\n    if (isValid) {\n      callback(newCity, newCountryCode);\n      setNewCountryCode(\"\");\n      setNewCity(\"\");\n    }else{\n      alert('Search error, both fields are required and country code must have two characters.')\n    }\n  };\n\n  return (\n    <form className=\"searchForm\">\n      <TextField\n        type=\"text\"\n        variant=\"outlined\"\n        label=\"City\"\n        color=\"primary\"\n        className=\"formItem\"\n        onChange={updateCity}\n        value={newCity}\n        name=\"city\"\n        required\n      />\n      <TextField\n        type=\"text\"\n        variant=\"outlined\"\n        label=\"Country Code\"\n        color=\"primary\"\n        className=\"formItem\"\n        onChange={updateCountryCode}\n        value={newCountryCode}\n        name=\"city\"\n        required\n      />\n      <Button\n        type=\"submit\"\n        variant=\"contained\"\n        color=\"primary\"\n        className=\"formItem\"\n        onClick={createNewCity}\n      >\n        Search\n      </Button>\n    </form>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}